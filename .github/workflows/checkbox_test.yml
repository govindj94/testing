name: Dispatch Workflow Example

on:
  workflow_dispatch:
    inputs:
      selected_option:
        description: 'Select an option'
        required: true
        default: 'Option A'
        options:
          - 'Option A'
          - 'Option B'
          - 'Option C'
jobs:
  rest-action:
    runs-on: ubuntu-latest
    timeout-minutes: 60
    env:
      LIAM_Realm_Service_API_URL: https://api-tst.jdadelivers.com/iam/realm/v1/roles
      ROLE_ID: ${{ github.event.inputs.role-id }}
      ROLE_DESCRIPTION: ${{ github.event.inputs.role-description }}
      MODULE_ID: ${{ github.event.inputs.module-id }}
      ROLE_TYPE: ${{ github.event.inputs.role-type }}

    steps:
      - name: Checkout repository
        uses: actions/checkout@v2

      - name: Getting Policy Name 
        run: |
          IFS='-' read -ra ADDR <<< "${{ github.event.inputs.policy }}"
          t1="${ADDR[0]}"
          PolicyName="${t1}"
          echo "policy=${PolicyName}" >> $GITHUB_ENV
